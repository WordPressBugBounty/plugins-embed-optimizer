export const name="Embed Optimizer";export async function initialize({log:e,error:t,getElementData:n,extendElementData:o}){const r=document.querySelectorAll(".wp-block-embed > .wp-block-embed__wrapper[data-od-xpath]");for(const i of r)monitorEmbedWrapperForResizes(i,o,n,e,t)}function monitorEmbedWrapperForResizes(e,t,n,o,r){if(!("odXpath"in e.dataset))throw new Error("Embed wrapper missing data-od-xpath attribute.");const i=e.dataset.odXpath;new ResizeObserver((e=>{const[a]=e;try{t(i,{resizedBoundingClientRect:a.contentRect});const e=n(i);o(`Resized element ${i}:`,e.boundingClientRect,"=>",a.contentRect)}catch(e){r(`Failed to extend element data for ${i} with resizedBoundingClientRect:`,a.contentRect,e)}})).observe(e,{box:"content-box"})}